-- Docker network --
docker network create my_network

-- Docker build Backend --
docker build --platform linux/amd64 -t shopmall_backend:latest -f ./Dockerfile.multistage .

-- Docker run Backend ---
docker run -d --name shopmall_backend --network my_network -p 3000:3000 shopmall_backend


-- Docker build Frontend --
docker build --platform linux/amd64 -t shopmall_frontend:latest -f ./Dockerfile .
-- Docker run Frontend --
docker run -d --name shopmall_frontend --network my_network -p 8080:80 shopmall_frontend


# Start the frontend container
docker run -d --name frontend --network my_network -p 8080:80 frontend

# Start the backend container
docker run -d --name backend --network my_network -p 3000:3000 backend

# docker login registry
docker login registry.nipa.cloud

# tag docker registry
docker tag shopmall_frontend:latest  registry.nipa.cloud/kmitl-registry/shopmall_frontend:latest
docker tag shopmall_backend:latest  registry.nipa.cloud/kmitl-registry/shopmall_backend:latest

# push docker registry
docker push registry.nipa.cloud/kmitl-registry/shopmall_frontend:latest
docker push registry.nipa.cloud/kmitl-registry/shopmall_backend:latest

remote mysql
ssl -L 33061:103.29.190.192:3306 nc-user@103.29.190.192


